{"inkVersion":20,"root":[["\n","\n","\n","\n","\n",{"->":"start"},["done",{"#f":5,"#n":"g-0"}],null],"done",{"start":[["^>>> TITLE: A new beginning","\n","^This is what we've been waiting for. Full clearance to leave and traverse the universe.","\n","^What are we waiting for, exactly?","\n","ev","str","^Let's go!","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"hub"},"\n",{"#f":5}]}],{"#f":1}],"hub":["ev",{"list":{}},"/ev",{"temp=":"availableEvents"},"ev",{"^var":"availableEvents","ci":-1},1,{"f()":"get_available_events"},"out","/ev","\n","ev",{"VAR?":"availableEvents"},"LIST_COUNT",0,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",1,{"f()":"reset_repeatable_events"},"pop","/ev","\n","ev",{"^var":"availableEvents","ci":-1},1,{"f()":"get_available_events"},"out","/ev","\n",{"->":"hub.18"},null]}],"nop","\n","ev",{"list":{}},"/ev",{"temp=":"availableMissions"},"ev",{"^var":"availableMissions","ci":-1},1,{"f()":"get_available_missions"},"out","/ev","\n","ev",{"VAR?":"availableMissions"},"LIST_COUNT",0,"==",{"VAR?":"availableEvents"},"LIST_COUNT",0,"==","&&","/ev",[{"->":".^.b","c":true},{"b":["^ ",{"->":"no_more"},{"->":"hub.43"},null]}],"nop","\n","^>>> COLOR: RESET","\n","ev",{"VAR?":"debugMode"},"/ev",[{"->":".^.b","c":true},{"b":["\n","thread",{"->":"debug_print_available_missions"},"thread",{"->":"debug_print_available_events"},"thread",{"->":"debug_print_highest_priority_event"},{"->":"hub.51"},null]}],"nop","\n","ev",{"^->":"hub"},"/ev",{"temp=":"nextDivert"},"ev",{"VAR?":"availableMissions"},"LIST_COUNT",0,">","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",0,"/ev",{"VAR=":"eventsSinceLastMission","re":true},"ev",{"VAR?":"availableMissions"},"LIST_MIN","str","^divert","/str",{"f()":"dbStorylets"},"/ev",{"temp=":"nextDivert","re":true},"\n",{"->":"hub.65"},null]}],[{"->":".^.b"},{"b":["\n",["ev",{"VAR?":"availableEvents"},"LIST_COUNT",0,">","/ev",{"->":".^.b","c":true},{"b":["\n","ev",{"^var":"availableEvents","ci":-1},{"f()":"pop"},"/ev",{"temp=":"highestPriorityEvent"},"\n","ev",{"^var":"highestPriorityEvent","ci":-1},{"VAR?":"availableEvents"},{"f()":"get_highest_priority"},"out","/ev","\n","ev",{"VAR?":"eventsSinceLastMission"},1,"+",{"VAR=":"eventsSinceLastMission","re":true},"/ev","ev",{"VAR?":"highestPriorityEvent"},"str","^divert","/str",{"f()":"dbStorylets"},"/ev",{"temp=":"nextDivert","re":true},"\n",{"->":".^.^.^.2"},null]}],"nop","\n",{"->":"hub.65"},null]}],"nop","\n","ev",{"VAR?":"nextDivert"},{"^->":"hub"},"!=","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"debugMode"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^Next up ","ev",{"VAR?":"nextDivert"},"out","/ev","^!","/str","/ev",{"*":".^.c-0","flg":4},{"->":".^.^.^.6"},{"c-0":["\n",{"->":"nextDivert","var":true},{"#f":5}]}]}],[{"->":".^.b"},{"b":["\n","ev","str","^Continue your journey","/str","/ev",{"*":".^.c-0","flg":4},{"->":".^.^.^.6"},{"c-0":["\n",{"->":"nextDivert","var":true},{"#f":5}]}]}],"nop","\n",{"->":"hub.74"},null]}],[{"->":".^.b"},{"b":["\n",{"->":"nextDivert","var":true},{"->":"hub.74"},null]}],"nop","\n",{"#f":3}],"no_more":["^There are no missions nor events you can play!","\n","end",{"#f":1}],"planet_name":["ev","str",["ev","visit",24,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"ev","du",3,"==","/ev",{"->":".^.s3","c":true},"ev","du",4,"==","/ev",{"->":".^.s4","c":true},"ev","du",5,"==","/ev",{"->":".^.s5","c":true},"ev","du",6,"==","/ev",{"->":".^.s6","c":true},"ev","du",7,"==","/ev",{"->":".^.s7","c":true},"ev","du",8,"==","/ev",{"->":".^.s8","c":true},"ev","du",9,"==","/ev",{"->":".^.s9","c":true},"ev","du",10,"==","/ev",{"->":".^.s10","c":true},"ev","du",11,"==","/ev",{"->":".^.s11","c":true},"ev","du",12,"==","/ev",{"->":".^.s12","c":true},"ev","du",13,"==","/ev",{"->":".^.s13","c":true},"ev","du",14,"==","/ev",{"->":".^.s14","c":true},"ev","du",15,"==","/ev",{"->":".^.s15","c":true},"ev","du",16,"==","/ev",{"->":".^.s16","c":true},"ev","du",17,"==","/ev",{"->":".^.s17","c":true},"ev","du",18,"==","/ev",{"->":".^.s18","c":true},"ev","du",19,"==","/ev",{"->":".^.s19","c":true},"ev","du",20,"==","/ev",{"->":".^.s20","c":true},"ev","du",21,"==","/ev",{"->":".^.s21","c":true},"ev","du",22,"==","/ev",{"->":".^.s22","c":true},"ev","du",23,"==","/ev",{"->":".^.s23","c":true},"nop",{"s0":["pop","^Alpha",{"->":".^.^.149"},null],"s1":["pop","^Beta",{"->":".^.^.149"},null],"s2":["pop","^Gamma",{"->":".^.^.149"},null],"s3":["pop","^Delta",{"->":".^.^.149"},null],"s4":["pop","^Epsilon",{"->":".^.^.149"},null],"s5":["pop","^Zeta",{"->":".^.^.149"},null],"s6":["pop","^Eta",{"->":".^.^.149"},null],"s7":["pop","^Theta",{"->":".^.^.149"},null],"s8":["pop","^Iota",{"->":".^.^.149"},null],"s9":["pop","^K",{"->":".^.^.149"},null],"s10":["pop","^Lambda",{"->":".^.^.149"},null],"s11":["pop","^M",{"->":".^.^.149"},null],"s12":["pop","^N",{"->":".^.^.149"},null],"s13":["pop","^X",{"->":".^.^.149"},null],"s14":["pop","^Omicron",{"->":".^.^.149"},null],"s15":["pop","^Pi",{"->":".^.^.149"},null],"s16":["pop","^Rho",{"->":".^.^.149"},null],"s17":["pop","^Sigma",{"->":".^.^.149"},null],"s18":["pop","^Tau",{"->":".^.^.149"},null],"s19":["pop","^Ypsilon",{"->":".^.^.149"},null],"s20":["pop","^Phi",{"->":".^.^.149"},null],"s21":["pop","^Chi",{"->":".^.^.149"},null],"s22":["pop","^Psi",{"->":".^.^.149"},null],"s23":["pop","^Omega",{"->":".^.^.149"},null],"#f":5}],"^-","ev",1,999,"rnd","out","/ev","/str","/ev","~ret","\n",{"#f":1}],"allMissionsCount":["ev",{"VAR?":"allMissions"},"LIST_ALL","LIST_COUNT","/ev","~ret","\n",{"#f":1}],"get_open_missions":["ev",{"VAR?":"allMissions"},{"VAR?":"allMissions"},"LIST_MIN",{"VAR?":"allMissions"},"LIST_MAX","range","/ev","~ret","\n",{"#f":1}],"get_available_missions":[{"temp=":"currentIndex"},{"temp=":"list"},"ev",{"VAR?":"currentIndex"},{"f()":"allMissionsCount"},"<","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"allMissions"},"^allMissions",{"VAR?":"currentIndex"},"listInt","?","/ev",[{"->":".^.b","c":true},{"b":["\n","ev","^allMissions",{"VAR?":"currentIndex"},"listInt","str","^prereq","/str",{"f()":"dbStorylets"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"list"},"^allMissions",{"VAR?":"currentIndex"},"listInt","+",{"temp=":"list","re":true},"/ev","\n",{"->":".^.^.^.11"},null]}],"nop","\n",{"->":".^.^.^.9"},null]}],"nop","\n","ev",{"VAR?":"currentIndex"},1,"+",{"temp=":"currentIndex","re":true},"/ev","ev",{"^var":"list","ci":-1},{"VAR?":"currentIndex"},{"f()":".^.^.^"},"pop","/ev","\n",{"->":".^.^.^.8"},null]}],"nop","\n",{"#f":1}],"allEventsCount":["ev",{"VAR?":"allEvents"},"LIST_ALL","LIST_COUNT","/ev","~ret","\n",{"#f":1}],"get_open_events":["ev",{"VAR?":"allEvents"},{"VAR?":"allEvents"},"LIST_MIN",{"VAR?":"allEvents"},"LIST_MAX","range","/ev","~ret","\n",{"#f":1}],"get_available_events":[{"temp=":"currentIndex"},{"temp=":"list"},"ev",{"VAR?":"currentIndex"},{"f()":"allEventsCount"},"<","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"allEvents"},"^allEvents",{"VAR?":"currentIndex"},"listInt","?","/ev",[{"->":".^.b","c":true},{"b":["\n","ev","^allEvents",{"VAR?":"currentIndex"},"listInt","str","^prereq","/str",{"f()":"dbStorylets"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"list"},"^allEvents",{"VAR?":"currentIndex"},"listInt","+",{"temp=":"list","re":true},"/ev","\n",{"->":".^.^.^.11"},null]}],"nop","\n",{"->":".^.^.^.9"},null]}],"nop","\n","ev",{"VAR?":"currentIndex"},1,"+",{"temp=":"currentIndex","re":true},"/ev","ev",{"^var":"list","ci":-1},{"VAR?":"currentIndex"},{"f()":".^.^.^"},"pop","/ev","\n",{"->":".^.^.^.8"},null]}],"nop","\n",{"#f":1}],"reset_repeatable_events":[{"temp=":"currentIndex"},"ev",{"VAR?":"currentIndex"},{"f()":"allEventsCount"},"<","/ev",[{"->":".^.b","c":true},{"b":["\n","ev","^allEvents",{"VAR?":"currentIndex"},"listInt",{"f()":"is_repeatable"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"debugMode"},"/ev",[{"->":".^.b","c":true},{"b":["^ RESET ","ev","^allEvents",{"VAR?":"currentIndex"},"listInt","out","/ev",{"->":".^.^.^.5"},null]}],"nop","\n","ev",{"VAR?":"allEvents"},"^allEvents",{"VAR?":"currentIndex"},"listInt","+",{"VAR=":"allEvents","re":true},"/ev","\n",{"->":".^.^.^.8"},null]}],"nop","\n","ev",{"VAR?":"currentIndex"},1,"+",{"temp=":"currentIndex","re":true},"/ev","ev",{"VAR?":"currentIndex"},{"f()":".^.^.^"},"pop","/ev","\n",{"->":".^.^.^.7"},null]}],"nop","\n",{"#f":1}],"get_title":[{"temp=":"id"},"ev",{"VAR?":"id"},"str","^title","/str",{"f()":"dbStorylets"},"/ev","~ret","\n",{"#f":1}],"check_prerequisites":[{"temp=":"id"},"ev",{"VAR?":"id"},"str","^prereq","/str",{"f()":"dbStorylets"},"/ev","~ret","\n",{"#f":1}],"get_random_divert":[{"temp=":"list"},"ev",{"VAR?":"list"},"lrnd","str","^divert","/str",{"f()":"dbStorylets"},"/ev","~ret","\n",{"#f":1}],"get_priority":[{"temp=":"id"},"ev",{"VAR?":"id"},"str","^priority","/str",{"f()":"dbStorylets"},"/ev","~ret","\n",{"#f":1}],"is_repeatable":[{"temp=":"id"},"ev",{"VAR?":"id"},"str","^repeatable","/str",{"f()":"dbStorylets"},"/ev","~ret","\n",{"#f":1}],"process_outcome":[{"temp=":"positiveOrNegative"},{"temp=":"id"},"ev",{"VAR?":"positiveOrNegative"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"id"},"str","^outcome","/str",{"f()":"dbStorylets"},"pop","/ev","\n",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["\n","ev",{"VAR?":"id"},"str","^outcome_negative","/str",{"f()":"dbStorylets"},"pop","/ev","\n",{"->":".^.^.^.7"},null]}],"nop","\n",{"#f":1}],"get_highest_priority":[{"temp=":"list"},{"temp=":"highestPriorityElement"},"ev",{"VAR?":"list"},"LIST_COUNT",0,">","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"^var":"list","ci":-1},{"f()":"pop"},"/ev",{"temp=":"element"},"\n","ev",{"VAR?":"highestPriorityElement"},{"f()":"get_priority"},"/ev",{"temp=":"highestPriority"},"\n","ev",{"VAR?":"element"},{"f()":"get_priority"},"/ev",{"temp=":"elementPriority"},"\n","ev",{"VAR?":"highestPriority"},{"VAR?":"elementPriority"},"<","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"element"},"/ev",{"temp=":"highestPriorityElement","re":true},{"->":".^.^.^.25"},null]}],"nop","\n","ev",{"^var":"highestPriorityElement","ci":-1},{"VAR?":"list"},{"f()":".^.^.^"},"pop","/ev","\n",{"->":".^.^.^.9"},null]}],"nop","\n",{"#f":1}],"pop":[{"temp=":"list"},"ev",{"VAR?":"list"},"LIST_MIN","/ev",{"temp=":"el"},"\n","ev",{"VAR?":"list"},{"VAR?":"el"},"-",{"temp=":"list","re":true},"/ev","ev",{"VAR?":"el"},"/ev","~ret",{"#f":1}],"abs":[{"temp=":"x"},"ev",{"VAR?":"x"},{"VAR?":"x"},0,">",{"VAR?":"x"},0,"<","-","*","/ev","~ret",{"#f":1}],"alter":[{"temp=":"amount"},{"temp=":"x"},["ev",{"VAR?":"x"},{"VAR?":"amount"},"+",0,"<","/ev",{"->":".^.b","c":true},{"b":["\n","ev",0,"/ev",{"temp=":"x","re":true},{"->":"alter.5"},null]}],["ev",{"VAR?":"x"},{"VAR?":"amount"},"+",100,">","/ev",{"->":".^.b","c":true},{"b":["\n","ev",100,"/ev",{"temp=":"x","re":true},{"->":"alter.5"},null]}],[{"->":".^.b"},{"b":["\n","ev",{"VAR?":"x"},{"VAR?":"amount"},"+",{"temp=":"x","re":true},"/ev",{"->":"alter.5"},null]}],"nop","\n",{"#f":1}],"mission_tape_1":[["^>>> TITLE: ","ev",{"VAR?":"M_TAPE_1"},{"f()":"get_title"},"out","/ev","\n","^You received a distress signal from a nearby sector, not so far from our current course. Official procedure would require to, at least, attempt answering the call.","\n","ev","str","^Try to trace the distress signal","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Ignore it / MORALE--","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n",{"->":".^.^.^.trace_signal"},{"#f":5}],"c-1":["\n",{"->":".^.^.^.go_back"},{"#f":5}]}],{"trace_signal":[["^It comes from quite a small ship, unregistered, suitable for just a single person. Probably stolen or used for illegal purposes.","\n","ev","str","^Try getting in touch","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Board the ship right away","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n",{"->":".^.^.^.^.radio"},{"#f":5}],"c-1":["\n",{"->":".^.^.^.^.board"},{"#f":5}]}],{"#f":1}],"radio":[["^>>> GLITCH: START","\n","^As you try to get in touch, you are greeted by a prerecorded message: a song. It's slow, heavily distorted and repetitive, executed in loop as if it was a mantra.","<>","\n","^<br><br>Judging by the quality, it sounds like the transmission comes from a tape eroded by wear.","<>","\n","^<br><br>You sense a kind of disturbance in your comms.","\n","ev","str","^Board the ship","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Don't stray further from your course / MORALE--","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","^>>> GLITCH: STOP","\n",{"->":".^.^.^.^.board"},{"#f":5}],"c-1":["\n","^>>> GLITCH: STOP","\n",{"->":".^.^.^.^.go_back"},{"#f":5}]}],{"#f":1}],"board":[["^The interior of the cockpit is quite bare, abandoned and silent. The only light comes from outer space through the front window and a blinking terminal, scribbling data.","\n","^<br><br>In front of it, the pilot's chair and, mostly hidden by its backrest, a lifeless body, arms dangling, covered in a full spacesuit.","\n","ev","str","^Get closer","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Reconsider","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n",{"->":".^.^.^.^.pilot"},{"#f":5}],"c-1":["\n",{"->":".^.^.^.^.reconsider"},{"#f":5}]}],{"#f":1}],"reconsider":[["ev",{"CNT?":".^.^.^.radio"},false,"==","/ev",[{"->":".^.b","c":true},{"b":[["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^>>> GLITCH: START",{"->":".^.^.17"},null],"s1":["pop",{"->":".^.^.17"},null],"#f":5}],{"->":".^.^.^.6"},null]}],"nop","\n","^You don't feel like staying in there and as you go help yourself to the exit, your comms system receives ","ev",{"CNT?":".^.^.^.radio"},"/ev",[{"->":".^.b","c":true},{"b":["^that song again.",{"->":".^.^.^.14"},null]}],[{"->":".^.b"},{"b":["^a song.<br><br>It's slow, heavily distorted and repetitive, executed in loop as if it was a mantra. Judging by the quality, it sounds like the transmission comes from a tape eroded by wear.",{"->":".^.^.^.14"},null]}],"nop","^ You hesitate for a moment.","\n","ev","str","^Get closer to the pilot's chair","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Go back to your ship","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n",{"->":".^.^.^.^.pilot"},{"#f":5}],"c-1":["\n",{"->":".^.^.^.^.go_back"},{"#f":5}]}],{"#f":1}],"pilot":[["ev",{"CNT?":".^.^.^.radio"},false,"==","/ev",[{"->":".^.b","c":true},{"b":[["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^>>> GLITCH: START",{"->":".^.^.17"},null],"s1":["pop",{"->":".^.^.17"},null],"#f":5}],{"->":".^.^.^.6"},null]}],"nop","\n",["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","\n","^As you get close, you realize that the spacesuit is empty inside, as if it was filled with air. It's otherwise intact and it doesn't show any sign of misfunction.","<>","\n","^On the spacesuit's chest, a cassette tape player. The \"Play\" button is on.","\n",{"->":".^.^.17"},null],"s1":["pop","\n","^The empty spacesuit lies on the pilot's chair. The cassette player ","ev",{"CNT?":".^.^.^.^.^.stop"},"/ev",[{"->":".^.b","c":true},{"b":["^ has now stopped playing","ev",{"CNT?":"mission_tape_1.remove_cassette"},"/ev",[{"->":".^.b","c":true},{"b":["^ and it has no cassette inside",{"->":".^.^.^.5"},null]}],"nop",{"->":".^.^.^.7"},null]}],"nop","^.","\n",{"->":".^.^.17"},null],"#f":5}],"<>","^ ","ev",{"CNT?":".^.^.^.reconsider"},{"CNT?":".^.^.^.stop"},"!","&&","/ev",[{"->":".^.b","c":true},{"b":["^The disturbance is getting stronger.",{"->":".^.^.^.18"},null]}],"nop","\n","ev","str","^Press the \"Stop\" button on the cassette player","/str",{"CNT?":".^.^.^.stop"},"!","/ev",{"*":".^.c-0","flg":5},"ev","str","^Remove the cassette tape from the player","/str",{"CNT?":".^.^.^.stop"},{"CNT?":".^.^.^.remove_cassette"},"!","&&","/ev",{"*":".^.c-1","flg":5},"ev","str","^Examine the terminal","/str","/ev",{"*":".^.c-2","flg":4},"ev","str","^Go back to your ship","/str",{"CNT?":".^.^.^.stop"},{"CNT?":".^.^.^.remove_cassette"},"&&","/ev",{"*":".^.c-3","flg":5},{"c-0":["^ ",{"->":".^.^.^.^.stop"},"\n",{"#f":5}],"c-1":["^ ",{"->":".^.^.^.^.remove_cassette"},"\n",{"#f":5}],"c-2":["^ ",{"->":".^.^.^.^.terminal"},"\n",{"#f":5}],"c-3":["^ ",{"->":".^.^.^.^.finale"},"\n",{"#f":5}]}],{"#f":1}],"stop":[["^>>> GLITCH: STOP","\n",["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^As the audio track stops, so does the uneaseness you were feeling along with the disturbance in your comms system.",{"->":".^.^.17"},null],"s1":["pop","^Now that the disturbance has stopped, here there is just silence, and a spacesuit with no one inside.",{"->":".^.^.17"},null],"#f":5}],"\n","ev","str","^Remove the cassette tape from the player","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Examine the terminal","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ",{"->":".^.^.^.^.remove_cassette"},"\n",{"#f":5}],"c-1":["^ ",{"->":".^.^.^.^.terminal"},"\n",{"#f":5}]}],{"#f":1}],"terminal":[["^The display is showing a flow of data, repeated","ev",{"CNT?":".^.^.^.stop"},"/ev",[{"->":".^.b","c":true},{"b":["^, and that stopped flowing as you hit stopped the cassette tape from playing",{"->":".^.^.^.6"},null]}],[{"->":".^.b"},{"b":["^and endless",{"->":".^.^.^.6"},null]}],"nop","^.","\n","ev","str","^Examine the pilot","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Press the \"Stop\" button on the cassette player","/str",{"CNT?":".^.^.^.stop"},"!","/ev",{"*":".^.c-1","flg":5},"ev","str","^Remove the cassette tape from the player","/str",{"CNT?":".^.^.^.stop"},{"CNT?":".^.^.^.remove_cassette"},"!","&&","/ev",{"*":".^.c-2","flg":5},"ev","str","^Go back to your ship","/str",{"CNT?":".^.^.^.stop"},{"CNT?":".^.^.^.remove_cassette"},"&&","/ev",{"*":".^.c-3","flg":5},{"c-0":["^ ",{"->":".^.^.^.^.pilot"},"\n",{"#f":5}],"c-1":["^ ",{"->":".^.^.^.^.stop"},"\n",{"#f":5}],"c-2":["^ ",{"->":".^.^.^.^.remove_cassette"},"\n",{"#f":5}],"c-3":["^ ",{"->":".^.^.^.^.finale"},"\n",{"#f":5}]}],{"#f":1}],"remove_cassette":[["^The cassette has no label. You easily store it in one of the pockets of your suit.","\n","ev","str","^Examine the terminal","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Go back to your ship","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n",{"->":".^.^.^.^.terminal"},{"#f":5}],"c-1":["\n",{"->":".^.^.^.^.finale"},{"#f":5}]}],{"#f":1}],"finale":[["ev",{"VAR?":"M_TAPE_1"},true,{"f()":"process_outcome"},"pop","/ev","\n","^You eventually leave the vessel and go back to your ship, with a cassette tape in your pocket and a mystery on your mind.","\n","ev","str","^OK","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"hub"},"\n",{"#f":5}]}],{"#f":1}],"go_back":[["ev",{"VAR?":"M_TAPE_1"},false,{"f()":"process_outcome"},"pop","/ev","\n","^We won't stray from our course, then, and we'll try to remove any track of this event from our logs.","\n","ev","str","^OK","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"hub"},"\n",{"#f":5}]}],{"#f":1}],"#f":3}],"mission_tape_2":[["^>>> TITLE: ","ev",{"VAR?":"M_TAPE_2"},{"f()":"get_title"},"out","/ev","\n","^As soon as you jump out of hyperspace, you are greeted by a call request from a nearby ship","\n","ev","str","^Answer","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Ignore","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n",{"->":".^.^.^.answer"},{"#f":5}],"c-1":["\n",{"->":".^.^.^.ignore"},{"#f":5}]}],{"answer":[["^\"Captain,\" the voice on the other end sounds simultaneously familiar and absolutely impossible to frame in time and space, \"You carry something very important, with you\".","<>","\n","^<br><br>Then, an almost surreal silence, as if they are expecting you to understand what they are referring to.","\n","ev","str","^\"The cassette tape?\"","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Ask for explanations","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","^\"Yes, the message,\" their answer is uttered with a tangible trepidation, \"It is crucial, for us, Voidfarers, to be able to carry it forward.\"","\n",["ev","str","^Accept to deliver the tape","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Refuse their request","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n",{"->":".^.^.^.^.^.^.accept_delivery"},{"#f":5}],"c-1":["\n",{"->":".^.^.^.^.^.^.refuse_delivery"},{"#f":5}]}],{"#f":5}],"c-1":["\n","ev","str","^\"You have met our brother, who preceded us into the Void\", their voice is only just grazed by a noticeable sadness.","/str",0,"/ev",{"->":".^.^.^.^.explanations"},{"#f":5}]}],{"#f":1}],"explanations":[{"temp=":"index"},{"temp=":"text"},["ev",{"VAR?":"text"},"out","/ev","\n",["ev",{"VAR?":"index"},1,"+",{"temp=":"index","re":true},"/ev","ev",{"VAR?":"index"},7,">=","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",0,"/ev",{"temp=":"index","re":true},{"->":".^.^.^.12"},null]}],"nop","\n","ev",{"VAR?":"index"},"/ev",["du","ev",0,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"CNT?":".^.7.b.c-0"},false,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^Ask about the empty suit","/str","/ev",{"*":".^.c-0","flg":20},{"->":".^.^.^.9"},{"c-0":["\n","ev","str","^\"They stepped into the Void,\" answers back the voice, \"That's what you couldn't see.\"","/str",-1,"/ev",{"->":".^.^.^.^.^.^.^.^"},{"#f":5}]}]}],[{"->":".^.b"},{"b":["\n",{"->":".^.^.^.^.^"},{"->":".^.^.^.9"},null]}],"nop","\n",{"->":".^.^.^.25"},null]}],["du","ev",1,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"CNT?":".^.7.b.c-0"},false,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^Ask about the message","/str","/ev",{"*":".^.c-0","flg":20},{"->":".^.^.^.9"},{"c-0":["\n","ev","str","^\"The Void speaks to us, through the music,\" explains the voice, \"A universal mantra that bears life, death and everything in between.\"","/str",-1,"/ev",{"->":".^.^.^.^.^.^.^.^"},{"#f":5}]}]}],[{"->":".^.b"},{"b":["\n",{"->":".^.^.^.^.^"},{"->":".^.^.^.9"},null]}],"nop","\n",{"->":".^.^.^.25"},null]}],["du","ev",2,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"CNT?":".^.7.b.c-0"},false,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^Ask about the Void","/str","/ev",{"*":".^.c-0","flg":20},{"->":".^.^.^.9"},{"c-0":["\n","ev","str","^\"What is the Void, exactly, we do not know,\" they tell you, \"That's why our search continues.\"","/str",-1,"/ev",{"->":".^.^.^.^.^.^.^.^"},{"#f":5}]}]}],[{"->":".^.b"},{"b":["\n",{"->":".^.^.^.^.^"},{"->":".^.^.^.9"},null]}],"nop","\n",{"->":".^.^.^.25"},null]}],["du","ev",3,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"CNT?":".^.11.b.c-0"},false,"==",{"CNT?":".^.^.^.^.^.^.answer.0.c-0"},false,"==","&&","/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^Ask about the cassette tape","/str","/ev",{"*":".^.c-0","flg":20},{"->":".^.^.^.13"},{"c-0":["\n","ev","str","^\"Yes, the message,\" their answer is uttered with a tangible trepidation, \"It is crucial, for us, Voidfarers, to be able to carry it forward.\"","/str",-1,"/ev",{"->":".^.^.^.^.^.^.^.^"},{"#f":5}]}]}],[{"->":".^.b"},{"b":["\n",{"->":".^.^.^.^.^"},{"->":".^.^.^.13"},null]}],"nop","\n",{"->":".^.^.^.25"},null]}],["du","ev",4,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"CNT?":".^.7.b.c-0"},false,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^Ask about the Voidfarers","/str","/ev",{"*":".^.c-0","flg":20},{"->":".^.^.^.9"},{"c-0":["\n","ev","str","^\"We follow the Void, chasing the song of the Universe.\"","/str",-1,"/ev",{"->":".^.^.^.^.^.^.^.^"},{"#f":5}]}]}],[{"->":".^.b"},{"b":["\n",{"->":".^.^.^.^.^"},{"->":".^.^.^.9"},null]}],"nop","\n",{"->":".^.^.^.25"},null]}],["du","ev",5,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"CNT?":".^.^.^.^.^.^.meeting"},false,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^Accept to deliver the tape","/str","/ev",{"*":".^.c-0","flg":20},{"->":".^.^.^.9"},{"c-0":["\n",{"->":"mission_tape_2.accept_delivery"},{"#f":5}]}]}],[{"->":".^.b"},{"b":["\n","ev","str","^Hand over the cassette","/str","/ev",{"*":".^.c-0","flg":20},{"->":".^.^.^.9"},{"c-0":["\n",{"->":"mission_tape_2.hand_over"},{"#f":5}]}]}],"nop","\n",{"->":".^.^.^.25"},null]}],["du","ev",6,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"CNT?":".^.^.^.^.^.^.meeting"},false,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^Refuse their request","/str","/ev",{"*":".^.c-0","flg":20},{"->":".^.^.^.9"},{"c-0":["\n",{"->":"mission_tape_2.refuse_delivery"},{"#f":5}]}]}],[{"->":".^.b"},{"b":["\n",{"->":".^.^.^.^.^"},{"->":".^.^.^.9"},null]}],"nop","\n",{"->":".^.^.^.25"},null]}],"pop","nop","\n","ev","str","^< BROWSE OPTIONS >","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ","ev",{"VAR?":"text"},{"VAR?":"index"},"/ev",{"->":".^.^.^.^"},"\n",{"#f":5}],"#f":5,"#n":"top"}],null],{"#f":1}],"accept_delivery":[["ev",{"CNT?":".^.^.^.refuse_delivery.0.c-0"},"/ev",[{"->":".^.b","c":true},{"b":["\n","^\"We thank you, Captain,\" the voice murmures in relief, \"we humbly ask for permission to approach your vessel. We are unarmed and mean no harm.\"","\n",{"->":".^.^.^.5"},null]}],[{"->":".^.b"},{"b":["\n","^\"Then we humbly ask for permission to approach your vessel, Captain,\" the voice asks calmly, \"We are unarmed and mean no harm.\"","\n",{"->":".^.^.^.5"},null]}],"nop","\n","ev","str","^\"We will wait for you\"","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^\"Let's do this quickly\"","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->":".^.^.^.^.meeting"},{"#f":5}]}],{"#f":1}],"refuse_delivery":[["^\"Your words sadden us, Captain, it is no small thing that what you're carrying, although to most would seem useless.\" firmly states the voice.","<>","\n","^<br><br>\"We ask you to reconsider.\"","\n","ev","str","^Reconsider","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Confirm your decision","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n",{"->":".^.^.^.^.accept_delivery"},{"#f":5}],"c-1":["\n","^>>> GLITCH: START","\n","^\"Then so be it.\" These are the last words you hear before an immediate, almost surreal silence follows them. A sensation grows in you, then disspates, shortly after.","\n",["ev","str","^Get back to your trip","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n","^>>> GLITCH: STOP","\n","ev",{"VAR?":"M_TAPE_2"},false,{"f()":"process_outcome"},"pop","/ev","\n",{"->":"hub"},{"#f":5}]}],{"#f":5}]}],{"#f":1}],"meeting":[["^In a brief span of time your two ships reach each other. You walk up to the entrance, in anticipation, along with some of your crewmates. As the door opens, you see this figure, entirely covered in a spacesuit. ","<>","\n","^Inside, you can barely see a shadow.","<>","\n","^<br><br>\"Captain...\"","\n","ev","str","^Greet the figure","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Just hand over the cassette","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","^\"We do not wish to stay more than it's due,\" they politely cut short, \"but please accept our gratitude, on behalf of all the Voidfarer.\"","\n",["ev","str","^Hand over the cassette","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Ask for ","ev",{"CNT?":".^.^.^.^.^.explanations"},true,"==","/ev",[{"->":".^.b","c":true},{"b":["^more",{"->":".^.^.^.15"},null]}],"nop","^ explanations","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n",{"->":".^.^.^.^.^.^.hand_over"},{"#f":5}],"c-1":["\n","ev",{"CNT?":".^.^.^.^.^.^.explanations"},false,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^\"You have met our brother, who preceded us into the Void\", their voice is only just grazed by a noticeable sadness.","/str",0,"/ev",{"->":"mission_tape_2.explanations"},{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["\n","ev","str","^\"Ask further, Captain.\", they allow, gently.","/str",0,"/ev",{"->":"mission_tape_2.explanations"},{"->":".^.^.^.8"},null]}],"nop","\n",{"#f":5}]}],{"#f":5}],"c-1":["\n",{"->":".^.^.^.^.hand_over"},"ev",{"VAR?":"M_TAPE_2"},true,{"f()":"process_outcome"},"pop","/ev","\n",{"->":"hub"},{"#f":5}]}],{"#f":1}],"hand_over":[["ev",{"CNT?":".^.^.^.meeting.0.c-1"},"/ev",[{"->":".^.b","c":true},{"b":["\n","^\"We thank you, Captain,\" the figure slightly bows in gratitude, \"please accept our gratitude on behalf of all the Voidfarer.\"","<>","\n",{"->":".^.^.^.4"},null]}],"nop","\n","^They collect the tape, then proceed to leave.<br><br>You are left without a cassette tape","ev",{"CNT?":".^.^.^.explanations"},false,"==","/ev",[{"->":".^.b","c":true},{"b":["^, a lot of questions,",{"->":".^.^.^.13"},null]}],"nop","^ and a deeper mystery on your mind.","\n","ev","str","^Better resume our trip","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n","ev",{"VAR?":"M_TAPE_2"},true,{"f()":"process_outcome"},"pop","/ev","\n",{"->":"hub"},{"#f":5}]}],{"#f":1}],"ignore":[["^>>> GLITCH: START","\n","^You ignore the message and after a while, and for a while, you feel once again a disturbance in your communication system.","\n","ev","str","^Ok","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"hub"},"\n",{"#f":5}]}],{"#f":1}],"#f":3}],"dbStorylets":[{"temp=":"element"},{"temp=":"id"},"ev",{"VAR?":"id"},"/ev",["du","ev",{"VAR?":"M_TAPE_1"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"element"},"/ev",["du","ev","str","^title","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^The frequency of the Universe","/str","/ev","~ret",{"->":".^.^.^.11"},null]}],["du","ev","str","^prereq","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",true,"/ev","~ret",{"->":".^.^.^.11"},null]}],["du","ev","str","^outcome","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"allMissions"},{"VAR?":"id"},"-",{"VAR=":"allMissions","re":true},"/ev","ev",{"VAR?":"allMissions"},{"VAR?":"M_TAPE_2"},"+",{"VAR=":"allMissions","re":true},"/ev",{"->":".^.^.^.11"},null]}],["du","ev","str","^outcome_negative","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"allMissions"},{"VAR?":"id"},"-",{"VAR=":"allMissions","re":true},"/ev","ev",{"^var":"morale","ci":-1},-10,{"f()":"alter"},"pop","/ev","\n",{"->":".^.^.^.11"},null]}],["du","ev","str","^divert","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"^->":"mission_tape_1"},"/ev","~ret",{"->":".^.^.^.11"},null]}],"pop","nop","\n",{"->":".^.^.^.12"},null]}],["du","ev",{"VAR?":"M_TAPE_2"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"element"},"/ev",["du","ev","str","^title","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^The frequency of the Universe","/str","/ev","~ret",{"->":".^.^.^.10"},null]}],["du","ev","str","^prereq","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"eventsSinceLastMission"},1,">","/ev","~ret",{"->":".^.^.^.10"},null]}],["du","ev","str","^outcome","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"allMissions"},{"VAR?":"id"},"-",{"VAR=":"allMissions","re":true},"/ev",{"->":".^.^.^.10"},null]}],["du","ev","str","^divert","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"^->":"mission_tape_2"},"/ev","~ret",{"->":".^.^.^.10"},null]}],"pop","nop","\n",{"->":".^.^.^.12"},null]}],["du","ev",{"VAR?":"E_PARTY"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"element"},"/ev",["du","ev","str","^title","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^A party","/str","/ev","~ret",{"->":".^.^.^.13"},null]}],["du","ev","str","^prereq","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"morale"},70,"<",{"VAR?":"food"},35,">","&&","/ev","~ret",{"->":".^.^.^.13"},null]}],["du","ev","str","^repeatable","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",true,"/ev","~ret",{"->":".^.^.^.13"},null]}],["du","ev","str","^priority","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",70,{"VAR?":"morale"},"-",{"f()":"abs"},"/ev","~ret","\n",{"->":".^.^.^.13"},null]}],["du","ev","str","^outcome","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"allEvents"},{"VAR?":"id"},"-",{"VAR=":"allEvents","re":true},"/ev","ev",{"^var":"food","ci":-1},-15,{"f()":"alter"},"pop","/ev","\n","ev",{"^var":"morale","ci":-1},15,{"f()":"alter"},"pop","/ev","\n",{"->":".^.^.^.13"},null]}],["du","ev","str","^outcome_negative","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"allEvents"},{"VAR?":"id"},"-",{"VAR=":"allEvents","re":true},"/ev","ev",{"^var":"morale","ci":-1},-15,{"f()":"alter"},"pop","/ev","\n",{"->":".^.^.^.13"},null]}],["du","ev","str","^divert","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"^->":"event_party"},"/ev","~ret",{"->":".^.^.^.13"},null]}],"pop","nop","\n",{"->":".^.^.^.12"},null]}],["du","ev",{"VAR?":"E_FOOD_SUPPLIES"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"element"},"/ev",["du","ev","str","^title","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^Leftovers","/str","/ev","~ret",{"->":".^.^.^.13"},null]}],["du","ev","str","^prereq","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",true,"/ev","~ret",{"->":".^.^.^.13"},null]}],["du","ev","str","^repeatable","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",true,"/ev","~ret",{"->":".^.^.^.13"},null]}],["du","ev","str","^priority","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",40,{"VAR?":"food"},"-",{"f()":"abs"},"/ev","~ret","\n",{"->":".^.^.^.13"},null]}],["du","ev","str","^outcome","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"allEvents"},{"VAR?":"id"},"-",{"VAR=":"allEvents","re":true},"/ev","ev",{"^var":"food","ci":-1},15,{"f()":"alter"},"pop","/ev","\n","ev",{"^var":"fuel","ci":-1},-15,{"f()":"alter"},"pop","/ev","\n",{"->":".^.^.^.13"},null]}],["du","ev","str","^outcome_negative","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"allEvents"},{"VAR?":"id"},"-",{"VAR=":"allEvents","re":true},"/ev","ev",{"^var":"morale","ci":-1},-15,{"f()":"alter"},"pop","/ev","\n",{"->":".^.^.^.13"},null]}],["du","ev","str","^divert","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"^->":"event_food_supplies"},"/ev","~ret",{"->":".^.^.^.13"},null]}],"pop","nop","\n",{"->":".^.^.^.12"},null]}],["du","ev",{"VAR?":"E_ROLLIES"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"element"},"/ev",["du","ev","str","^title","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^A game of dice","/str","/ev","~ret",{"->":".^.^.^.13"},null]}],["du","ev","str","^prereq","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",true,"/ev","~ret",{"->":".^.^.^.13"},null]}],["du","ev","str","^repeatable","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",true,"/ev","~ret",{"->":".^.^.^.13"},null]}],["du","ev","str","^priority","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",60,{"VAR?":"morale"},"-",{"f()":"abs"},"/ev","~ret","\n",{"->":".^.^.^.13"},null]}],["du","ev","str","^outcome","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"allEvents"},{"VAR?":"id"},"-",{"VAR=":"allEvents","re":true},"/ev","ev",{"^var":"morale","ci":-1},10,{"f()":"alter"},"pop","/ev","\n",{"->":".^.^.^.13"},null]}],["du","ev","str","^outcome_negative","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"allEvents"},{"VAR?":"id"},"-",{"VAR=":"allEvents","re":true},"/ev","ev",{"^var":"morale","ci":-1},-15,{"f()":"alter"},"pop","/ev","\n",{"->":".^.^.^.13"},null]}],["du","ev","str","^divert","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"^->":"event_dice_game"},"/ev","~ret",{"->":".^.^.^.13"},null]}],"pop","nop","\n",{"->":".^.^.^.12"},null]}],["du","ev",{"VAR?":"E_ASTEROID_FIELD"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"element"},"/ev",["du","ev","str","^title","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^Rocky turbulence","/str","/ev","~ret",{"->":".^.^.^.13"},null]}],["du","ev","str","^prereq","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",true,"/ev","~ret",{"->":".^.^.^.13"},null]}],["du","ev","str","^repeatable","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",true,"/ev","~ret",{"->":".^.^.^.13"},null]}],["du","ev","str","^priority","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",0,100,"rnd","/ev","~ret","\n",{"->":".^.^.^.13"},null]}],["du","ev","str","^outcome","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"allEvents"},{"VAR?":"id"},"-",{"VAR=":"allEvents","re":true},"/ev","ev",{"^var":"morale","ci":-1},10,{"f()":"alter"},"pop","/ev","\n",{"->":".^.^.^.13"},null]}],["du","ev","str","^outcome_negative","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"allEvents"},{"VAR?":"id"},"-",{"VAR=":"allEvents","re":true},"/ev","ev",{"^var":"morale","ci":-1},-15,{"f()":"alter"},"pop","/ev","\n","ev",{"^var":"status","ci":-1},-15,{"f()":"alter"},"pop","/ev","\n",{"->":".^.^.^.13"},null]}],["du","ev","str","^divert","/str","==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"^->":"event_asteroid_field"},"/ev","~ret",{"->":".^.^.^.13"},null]}],"pop","nop","\n",{"->":".^.^.^.12"},null]}],"pop","nop","\n",{"#f":1}],"debug_print_resources":["^Fl: ","ev",{"VAR?":"fuel"},"out","/ev","^ Fo: ","ev",{"VAR?":"food"},"out","/ev","^ Mr: ","ev",{"VAR?":"morale"},"out","/ev","^ St: ","ev",{"VAR?":"status"},"out","/ev","^ Ju: ","ev",{"VAR?":"jumps"},"out","/ev","\n","done",{"#f":1}],"debug_print_available_missions":["ev",{"list":{}},"/ev",{"temp=":"availableMissions"},"ev",{"^var":"availableMissions","ci":-1},1,{"f()":"get_available_missions"},"out","/ev","\n","^Available missions: ","ev",{"VAR?":"availableMissions"},"out","/ev","\n","done",{"#f":1}],"debug_print_available_events":["ev",{"list":{}},"/ev",{"temp=":"availableEvents"},"ev",{"^var":"availableEvents","ci":-1},1,{"f()":"get_available_events"},"out","/ev","\n","^Available events: ","ev",{"VAR?":"availableEvents"},"out","/ev","\n","done",{"#f":1}],"debug_print_highest_priority_event":["ev",{"list":{}},"/ev",{"temp=":"availableEvents"},"ev",{"^var":"availableEvents","ci":-1},1,{"f()":"get_available_events"},"out","/ev","\n","ev",{"^var":"availableEvents","ci":-1},{"f()":"pop"},"/ev",{"temp=":"highestPriorityEvent"},"\n","ev",{"^var":"highestPriorityEvent","ci":-1},{"VAR?":"availableEvents"},{"f()":"get_highest_priority"},"out","/ev","\n","^Highest priority Event: ","ev",{"VAR?":"highestPriorityEvent"},"out","/ev","\n","done",{"#f":1}],"event_party":[["^>>> TITLE: ","ev",{"VAR?":"E_PARTY"},{"f()":"get_title"},"out","/ev","\n","^>>> COLOR: 41118b","\n","^It's the birthday of one of the crewmembers, and the rest of the team wanted to throw a small party to celebrate.","\n","ev","str","^Agree / FOOD-- MORALE++","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Deny / MORALE--","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","ev",{"VAR?":"E_PARTY"},true,{"f()":"process_outcome"},"pop","/ev","\n","^The party was a success. Maybe even a little too much.","\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\n","ev",{"VAR?":"E_PARTY"},false,{"f()":"process_outcome"},"pop","/ev","\n","^Needless to say, your decision is not very popular among the crew.","\n",[["ev","str","^Ok","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ","\n",{"->":".^.^.^.^.^.g-0"},{"#f":5}],"#f":5,"#n":"g-0"}],null],{"#f":5}],"g-0":[{"->":"hub"},{"#f":5}]}],{"#f":3}],"event_food_supplies":[["^>>> TITLE: ","ev",{"VAR?":"E_FOOD_SUPPLIES"},{"f()":"get_title"},"out","/ev","\n","^>>> COLOR: 00FFFF","\n","^We found out that on ","ev",{"f()":"planet_name"},"out","/ev","^ there are food supplies leftover by a previous crew. They could turn out quite useful!","\n","ev","str","^Accept / FUEL-- FOOD++","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Refuse / MORALE--","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","ev",{"VAR?":"E_FOOD_SUPPLIES"},true,{"f()":"process_outcome"},"pop","/ev","\n","^Reaching the planet proved to be more difficult than anticipated, but at least we managed to collect some useful food supplies.","\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\n","ev",{"VAR?":"E_FOOD_SUPPLIES"},false,{"f()":"process_outcome"},"pop","/ev","\n","^The crew keeps on meticolously managing their rations","\n",[["ev","str","^Ok","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ","\n",{"->":".^.^.^.^.^.g-0"},{"#f":5}],"#f":5,"#n":"g-0"}],null],{"#f":5}],"g-0":[{"->":"hub"},{"#f":5}]}],{"#f":3}],"event_dice_game":[["^>>> TITLE: ","ev",{"VAR?":"E_ROLLIES"},{"f()":"get_title"},"out","/ev","\n","^While going back to your quarters for the night, you can hear your crew being loud in the mess hall.","\n","ev","str","^Get closer","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Leave them alone / MORALE--","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n",{"->":".^.^.^.approach"},{"#f":5}],"c-1":["\n",{"->":".^.^.^.ignore"},{"#f":5}]}],{"approach":[["^As you approach them, you realize they're playing ROLLIES, a popular dice game.<br>They ask you if you wish to join the fun, \"or are you afraid to lose?\", they tease.","\n","ev","str","^Accept / MORALE++","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Refuse / MORALE--","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","ev",{"VAR?":"E_ROLLIES"},true,{"f()":"process_outcome"},"pop","/ev","\n","^You sit in front of one of your crewmembers, grabbing a 20-sided dice and starting to making it roll in your hand.","\n",["ev","str","^Throw the dice","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n",{"->":".^.^.rollies"},{"#f":5}],"rollies":["ev",1,20,"rnd","/ev",{"temp=":"you"},"\n","ev",1,20,"rnd","/ev",{"temp=":"them"},"\n","^You rolled a ","ev",{"VAR?":"you"},"out","/ev","^, while your crewmember rolled a ","ev",{"VAR?":"them"},"out","/ev","^. ","ev",{"VAR?":"you"},{"VAR?":"them"},"==","/ev",[{"->":".^.b","c":true},{"b":["^It's a tie!",{"->":".^.^.^.32"},null]}],[{"->":".^.b"},{"b":["^You ","ev",{"VAR?":"you"},{"VAR?":"them"},">=","/ev",[{"->":".^.b","c":true},{"b":["^won",{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["^lost",{"->":".^.^.^.8"},null]}],"nop","^.",{"->":".^.^.^.32"},null]}],"nop","\n","^You are asked whether you want to play again.","\n",["ev","str","^Roll again!","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Enough for today","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ",{"->":".^.^.^"},"\n",{"#f":5}],"c-1":["\n","^You excuse yourself from the rest of the crew as they keep on playing and go to sleep, knowing that bonding with your crewmembers was, indeed, a great thing to do.","\n",["ev","str","^OK","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"hub"},"\n",{"#f":5}]}],{"#f":5}]}],{"#f":5}]}],{"#f":5}],"c-1":["\n",{"->":".^.^.^.^.ignore"},{"#f":5}]}],{"#f":1}],"ignore":[["ev",{"VAR?":"E_ROLLIES"},false,{"f()":"process_outcome"},"pop","/ev","\n","^You go back to your quarters having maybe lost a good opportunity to catch up with your fellow crewmembers.","\n","ev","str","^Ok","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"hub"},"\n",{"#f":5}]}],{"#f":1}],"#f":3}],"event_asteroid_field":[["^>>> TITLE: ","ev",{"VAR?":"E_ASTEROID_FIELD"},{"f()":"get_title"},"out","/ev","\n","^>>> COLOR: C0C0C0","\n","^We jumped out of hyperspace right into an asteroid field! What should we do?","\n","ev","str","^Carefully manouver through","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Stand still and await for a breach to open","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","^We get hit multiple times but it would have been a lot worse if we stayed still","\n","ev",{"VAR?":"E_ASTEROID_FIELD"},true,{"f()":"process_outcome"},"pop","/ev","\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\n","^As you wait you get hit by a massive rock that wreaks havoc in the engine's room","\n","ev",{"VAR?":"E_ASTEROID_FIELD"},false,{"f()":"process_outcome"},"pop","/ev","\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[["ev","str","^Ok","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"hub"},"\n",{"#f":5}]}],{"#f":5}]}],{"#f":3}],"global decl":["ev",false,{"VAR=":"debugMode"},0,{"VAR=":"jumps"},-1,{"VAR=":"eventsSinceLastMission"},100,{"VAR=":"fuel"},100,{"VAR=":"food"},100,{"VAR=":"morale"},100,{"VAR=":"status"},{"list":{"allMissions.M_TAPE_1":1}},{"VAR=":"allMissions"},{"list":{},"origins":["allEvents"]},{"VAR=":"allEvents"},"/ev","end",null],"#f":1}],"listDefs":{"allMissions":{"M_TAPE_1":1,"M_TAPE_2":2,"M_NULL":3},"allEvents":{"E_PARTY":1,"E_FOOD_SUPPLIES":2,"E_ROLLIES":3,"E_ASTEROID_FIELD":4,"E_NULL":5}}}